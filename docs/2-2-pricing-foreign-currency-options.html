<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Adventures in MacroFinancial Analysis: Extracting information from FX Options</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Adventures in MacroFinancial Analysis: Extracting information from FX Options" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Adventures in MacroFinancial Analysis: Extracting information from FX Options" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Jorge A. Chan-Lau">


<meta name="date" content="2018-01-10">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="2-1-the-delta-of-an-option.html">
<link rel="next" href="2-3-pricing-conventions.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="1-intro.html"><a href="1-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="1-1-Data-exploration.html"><a href="1-1-Data-exploration.html"><i class="fa fa-check"></i><b>1.1</b> Examining the data</a></li>
<li class="chapter" data-level="1.2" data-path="1-2-spot-exchange-rate.html"><a href="1-2-spot-exchange-rate.html"><i class="fa fa-check"></i><b>1.2</b> Spot exchange rate</a></li>
<li class="chapter" data-level="1.3" data-path="1-3-implied-and-actual-usd-rates.html"><a href="1-3-implied-and-actual-usd-rates.html"><i class="fa fa-check"></i><b>1.3</b> Implied and actual USD rates</a></li>
<li class="chapter" data-level="1.4" data-path="1-4-atm-option-volatility.html"><a href="1-4-atm-option-volatility.html"><i class="fa fa-check"></i><b>1.4</b> ATM option volatility</a></li>
<li class="chapter" data-level="1.5" data-path="1-5-risk-reversals.html"><a href="1-5-risk-reversals.html"><i class="fa fa-check"></i><b>1.5</b> Risk Reversals</a></li>
<li class="chapter" data-level="1.6" data-path="1-6-butterfly-spreads.html"><a href="1-6-butterfly-spreads.html"><i class="fa fa-check"></i><b>1.6</b> Butterfly spreads</a></li>
<li class="chapter" data-level="1.7" data-path="1-7-original-file.html"><a href="1-7-original-file.html"><i class="fa fa-check"></i><b>1.7</b> Original file</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-a-modicum-of-option-pricing-theory.html"><a href="2-a-modicum-of-option-pricing-theory.html"><i class="fa fa-check"></i><b>2</b> A modicum of option pricing theory</a><ul>
<li class="chapter" data-level="2.1" data-path="2-1-the-delta-of-an-option.html"><a href="2-1-the-delta-of-an-option.html"><i class="fa fa-check"></i><b>2.1</b> The <span class="math inline">\(\Delta\)</span> of an option</a><ul>
<li><a href="2-1-the-delta-of-an-option.html#box-1.-delta-and-dynamic-replication">Box 1. <span class="math inline">\(\Delta\)</span> and dynamic replication</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-2-pricing-foreign-currency-options.html"><a href="2-2-pricing-foreign-currency-options.html"><i class="fa fa-check"></i><b>2.2</b> Pricing foreign currency options</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-2-pricing-foreign-currency-options.html"><a href="2-2-pricing-foreign-currency-options.html#replicating-the-cost-of-a-call-option"><i class="fa fa-check"></i><b>2.2.1</b> Replicating the cost of a call option</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-2-pricing-foreign-currency-options.html"><a href="2-2-pricing-foreign-currency-options.html#the-garman-kohlhagen-equation"><i class="fa fa-check"></i><b>2.2.2</b> The Garman-Kohlhagen equation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-3-pricing-conventions.html"><a href="2-3-pricing-conventions.html"><i class="fa fa-check"></i><b>2.3</b> Pricing conventions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="2-3-pricing-conventions.html"><a href="2-3-pricing-conventions.html#delta-implied-strikes"><i class="fa fa-check"></i><b>2.3.1</b> <span class="math inline">\(\Delta\)</span>-implied strikes</a></li>
<li class="chapter" data-level="2.3.2" data-path="2-3-pricing-conventions.html"><a href="2-3-pricing-conventions.html#implied-volatility"><i class="fa fa-check"></i><b>2.3.2</b> Implied volatility</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-the-volatility-smile.html"><a href="3-the-volatility-smile.html"><i class="fa fa-check"></i><b>3</b> The volatility smile</a><ul>
<li class="chapter" data-level="" data-path="3-the-volatility-smile.html"><a href="3-the-volatility-smile.html#box-2.-put-call-parity"><i class="fa fa-check"></i>Box 2. Put-call parity</a></li>
<li class="chapter" data-level="3.1" data-path="3-1-level.html"><a href="3-1-level.html"><i class="fa fa-check"></i><b>3.1</b> Level</a></li>
<li class="chapter" data-level="3.2" data-path="3-2-slope.html"><a href="3-2-slope.html"><i class="fa fa-check"></i><b>3.2</b> Slope</a></li>
<li class="chapter" data-level="3.3" data-path="3-3-curvature.html"><a href="3-3-curvature.html"><i class="fa fa-check"></i><b>3.3</b> Curvature</a></li>
<li class="chapter" data-level="3.4" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html"><i class="fa fa-check"></i><b>3.4</b> Constructing the volatility smile</a><ul>
<li class="chapter" data-level="3.4.1" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html#selecting-the-data-for-specific-dates"><i class="fa fa-check"></i><b>3.4.1</b> Selecting the data for specific dates</a></li>
<li class="chapter" data-level="3.4.2" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html#calculation-of-implied-volatilities-vols"><i class="fa fa-check"></i><b>3.4.2</b> Calculation of implied volatilities (vols)</a></li>
<li class="chapter" data-level="3.4.3" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html#delta_atm-depends-on-the-atm-conventions-used"><i class="fa fa-check"></i><b>3.4.3</b> <span class="math inline">\(\Delta_{ATM}\)</span> depends on the ATM conventions used</a></li>
<li class="chapter" data-level="3.4.4" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html#a-rough-first-pass-on-the-volatility-smile"><i class="fa fa-check"></i><b>3.4.4</b> A rough first pass on the volatility smile</a></li>
<li class="chapter" data-level="3.4.5" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html#a-more-refined-approximation-of-the-volatility-smile"><i class="fa fa-check"></i><b>3.4.5</b> A more refined approximation of the volatility smile</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-extracting-the-risk-neutral-density.html"><a href="4-extracting-the-risk-neutral-density.html"><i class="fa fa-check"></i><b>4</b> Extracting the risk-neutral density</a><ul>
<li class="chapter" data-level="4.1" data-path="4-1-extraction-techniques.html"><a href="4-1-extraction-techniques.html"><i class="fa fa-check"></i><b>4.1</b> Extraction techniques</a></li>
<li class="chapter" data-level="4.2" data-path="4-2-infering-premia-and-strike-prices-from-the-volatility-smile.html"><a href="4-2-infering-premia-and-strike-prices-from-the-volatility-smile.html"><i class="fa fa-check"></i><b>4.2</b> Infering premia and strike prices from the volatility smile</a></li>
<li class="chapter" data-level="4.3" data-path="4-3-the-call-option-case.html"><a href="4-3-the-call-option-case.html"><i class="fa fa-check"></i><b>4.3</b> The call option case</a></li>
<li class="chapter" data-level="4.4" data-path="4-4-the-put-option-case.html"><a href="4-4-the-put-option-case.html"><i class="fa fa-check"></i><b>4.4</b> The put option case</a></li>
<li class="chapter" data-level="4.5" data-path="4-5-practical-implementation.html"><a href="4-5-practical-implementation.html"><i class="fa fa-check"></i><b>4.5</b> Practical Implementation</a></li>
<li class="chapter" data-level="4.6" data-path="4-6-generalized-beta-distribution14.html"><a href="4-6-generalized-beta-distribution14.html"><i class="fa fa-check"></i><b>4.6</b> Generalized beta distribution[^14]</a></li>
<li class="chapter" data-level="4.7" data-path="4-7-edgeworth-expansion.html"><a href="4-7-edgeworth-expansion.html"><i class="fa fa-check"></i><b>4.7</b> Edgeworth expansion</a></li>
<li class="chapter" data-level="4.8" data-path="4-8-shimko-method16.html"><a href="4-8-shimko-method16.html"><i class="fa fa-check"></i><b>4.8</b> Shimko method[^16]</a></li>
<li class="chapter" data-level="4.9" data-path="4-9-a-graphical-comparison-of-different-methods.html"><a href="4-9-a-graphical-comparison-of-different-methods.html"><i class="fa fa-check"></i><b>4.9</b> A graphical comparison of different methods</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-final-words.html"><a href="5-final-words.html"><i class="fa fa-check"></i><b>5</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Adventures in MacroFinancial Analysis: Extracting information from FX Options</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pricing-foreign-currency-options" class="section level2">
<h2><span class="header-section-number">2.2</span> Pricing foreign currency options</h2>
<p>Remember that dealers quote currency option prices in terms of vols, or implied volatility. This parameter captures the costs involved in replicating an option. Let’s examine first what factors matter in the replication process.</p>
<div id="replicating-the-cost-of-a-call-option" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Replicating the cost of a call option</h3>
<p>The price of a currency option should reflect the costs the derivatives dealer incurs to manufacture the option for the client and hedging the associated risks. Take the case of a dealer buying a call option from a client and holds it over a period of time <span class="math inline">\(\delta t\)</span>.</p>
<ul>
<li><p>The dealer first borrows the price of the call, <span class="math inline">\(C\)</span>, at the domestic interest rate <span class="math inline">\(R_d\)</span>. The funding cost is equal to: <span class="math display">\[
R_d C_t \delta t
\]</span></p></li>
<li><p>The dealer’s exposure is equivalent to a long position on the call. To neutralize it, it uses a dynamic replication to construct a short position on the call. As Box 1 explains, this requires selling <span class="math inline">\(\Delta\)</span> units of the foreign currency. The proceeds from the sale, <span class="math inline">\(\Delta S\)</span>, can be reinvested at the domestic rate. Since the dealer borrows the foreign currency to sell it short, it has to pay the foreign currency interest rate, <span class="math inline">\(R_f\)</span>. This operation nets: <span class="math display">\[
(R_d - R_f) \Delta S_t  \delta t
\]</span></p></li>
<li><p>During the period <span class="math inline">\(\delta t\)</span>, the option loses money. To understand why, assume you buy the option at maturity. You either pay nothing, if the option is OTM, or the difference between the spot exchange rate and the strike, if the option is ITM. If the option has not expired, even if it is OTM there is a chance that it could end up ITM at expiration time, and its value would be positive. The change in the value due to the passage of time is:</p></li>
</ul>
<p><span class="math display">\[
\frac{\partial C_t}{\partial t} \delta t
\]</span></p>
<ul>
<li>The option has a non-linear payoff so it is necessary to add an additional term capturing what we refer to as “convexity” gains.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> Mathematically, this adjustment is</li>
</ul>
<p><span class="math display">\[
\frac{\partial^2 C_t}{\partial S^2} (\delta S_t)^2
\]</span></p>
<p>The change in the time value of the option plus the net gains from hedging the long option position should offset the interest rate payments completely:</p>
<p><span class="math display">\[
\frac{\partial C_t}{\partial t} \delta t + (R_d - R_f) \Delta S_t  \delta t + \frac{\partial^2 C}{\partial S_t^2} (\delta S_t)^2 = R_d C_t \delta t
\]</span></p>
</div>
<div id="the-garman-kohlhagen-equation" class="section level3">
<h3><span class="header-section-number">2.2.2</span> The Garman-Kohlhagen equation</h3>
<p>In the particular case of European options, and under the assumption that the exchange rate follows a geometric Brownian motion, the equation above simplifies to:</p>
<p><span class="math display">\[
\frac{\partial C_t}{\partial t} \delta t + (R_d - R_f) \Delta S_t  \delta t + \sigma^2 S^2\frac{\partial^2 C_t}{\partial S_t^2}\delta t  = R_d C_t \delta t
\]</span></p>
<p>After eliminating <span class="math inline">\(\delta t\)</span>, the solution of the equation yields the formula for a call option at time <span class="math inline">\(t\)</span>:<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
<center>
<div style="border:1px solid black;">
<p><span class="math display">\[
C(K,S_t,R_d,R_f,T,\sigma) = S_t \exp(-R_f\times(T-t))N(d_1) - K\exp(-R_d \times (T-t))N(d_2)
\]</span></p>
</div>
</center>
<p></br></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(K\)</span> is the strike price,</li>
<li><span class="math inline">\(S_t\)</span> is the current spot exchange rate,</li>
<li><span class="math inline">\(R_d\)</span> is the domestic interest rate,</li>
<li><span class="math inline">\(R_f\)</span> is the foreign interest rate,</li>
<li><span class="math inline">\(T-t\)</span> is the remaining life of an option maturing at time <span class="math inline">\(T\)</span>,</li>
<li><span class="math inline">\(\sigma\)</span> is the implied volatility of the exchange rate used to price the option,</li>
</ul>
<p>and:</p>
<p><span class="math display">\[
\begin{aligned}
d_1 &amp;= \frac{\ln(S_t/K)+(R_d-R_f+\sigma^2/2)(T-t)}{\sigma \times (T-t)}\\
d_2 &amp;= d_1 - \sigma \times (T-t)
\end{aligned}
\]</span></p>
<p>The price of a put option is:</p>
<center>
<div style="border:1px solid black;">
<p><span class="math display">\[
P(K,S_t,R_d,R_f,T,\sigma) = K\exp(-R_d \times (T-t))N(-d_2) - S_t \exp(-R_f\times(T-t))N(-d_1) 
\]</span></p>
</div>
</center>
<p></br></p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>S. Neftci, <em>Principles of Financial Engineering</em>. Academic Press. 2004.<a href="2-2-pricing-foreign-currency-options.html#fnref1">↩</a></p></li>
<li id="fn2"><p>Garman, M.B., Kohlhagen,S.W. Foreign currency option values. <em>J. of International Money and Finance</em> 2, pp. 231-7. 1983.2<a href="2-2-pricing-foreign-currency-options.html#fnref2">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="2-1-the-delta-of-an-option.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="2-3-pricing-conventions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
