<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Adventures in Macrofinancial Analysis: Extracting information from FX Options</title>
  <meta name="description" content="Lecture notes on information extraction from FX options">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Adventures in Macrofinancial Analysis: Extracting information from FX Options" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="cover_page.png" />
  <meta property="og:description" content="Lecture notes on information extraction from FX options" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Adventures in Macrofinancial Analysis: Extracting information from FX Options" />
  
  <meta name="twitter:description" content="Lecture notes on information extraction from FX options" />
  <meta name="twitter:image" content="cover_page.png" />

<meta name="author" content="Jorge A. Chan-Lau  International Monetary Fund and  Credit Research Initiative, National University of Singapore">


<meta name="date" content="2018-01-10">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="3-4-constructing-the-volatility-smile.html">
<link rel="next" href="4-1-level-1.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #ffffff; color: #1f1c1b; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #ffffff; color: #a0a0a0; border-right: 1px solid #a0a0a0; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #1f1c1b; background-color: #ffffff; }
code > span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code > span.dt { color: #0057ae; } /* DataType */
code > span.dv { color: #b08000; } /* DecVal */
code > span.bn { color: #b08000; } /* BaseN */
code > span.fl { color: #b08000; } /* Float */
code > span.cn { color: #aa5500; } /* Constant */
code > span.ch { color: #924c9d; } /* Char */
code > span.sc { color: #3daee9; } /* SpecialChar */
code > span.st { color: #bf0303; } /* String */
code > span.vs { color: #bf0303; } /* VerbatimString */
code > span.ss { color: #ff5500; } /* SpecialString */
code > span.im { color: #ff5500; } /* Import */
code > span.co { color: #898887; } /* Comment */
code > span.do { color: #607880; } /* Documentation */
code > span.an { color: #ca60ca; } /* Annotation */
code > span.cv { color: #0095ff; } /* CommentVar */
code > span.ot { color: #006e28; } /* Other */
code > span.fu { color: #644a9b; } /* Function */
code > span.va { color: #0057ae; } /* Variable */
code > span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code > span.op { color: #1f1c1b; } /* Operator */
code > span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code > span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code > span.pp { color: #006e28; } /* Preprocessor */
code > span.at { color: #0057ae; } /* Attribute */
code > span.re { color: #0057ae; } /* RegionMarker */
code > span.in { color: #b08000; } /* Information */
code > span.wa { color: #bf0303; } /* Warning */
code > span.al { color: #bf0303; font-weight: bold; } /* Alert */
code > span.er { color: #bf0303; text-decoration: underline; } /* Error */
code > span. { color: #1f1c1b; } /* Normal */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://jchanlauimf.github.io/IMF_FXOptions/">Extracting information from FX options</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="disclaimer.html"><a href="disclaimer.html"><i class="fa fa-check"></i>Disclaimer</a></li>
<li class="chapter" data-level="" data-path="copyright.html"><a href="copyright.html"><i class="fa fa-check"></i>Copyright</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="1-intro.html"><a href="1-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="1-1-Data-exploration.html"><a href="1-1-Data-exploration.html"><i class="fa fa-check"></i><b>1.1</b> Examining the data</a></li>
<li class="chapter" data-level="1.2" data-path="1-2-spot-exchange-rate.html"><a href="1-2-spot-exchange-rate.html"><i class="fa fa-check"></i><b>1.2</b> Spot exchange rate</a></li>
<li class="chapter" data-level="1.3" data-path="1-3-implied-and-actual-usd-rates.html"><a href="1-3-implied-and-actual-usd-rates.html"><i class="fa fa-check"></i><b>1.3</b> Implied and actual USD rates</a></li>
<li class="chapter" data-level="1.4" data-path="1-4-atm-option-volatility.html"><a href="1-4-atm-option-volatility.html"><i class="fa fa-check"></i><b>1.4</b> ATM option volatility</a></li>
<li class="chapter" data-level="1.5" data-path="1-5-risk-reversals.html"><a href="1-5-risk-reversals.html"><i class="fa fa-check"></i><b>1.5</b> Risk Reversals</a></li>
<li class="chapter" data-level="1.6" data-path="1-6-butterfly-spreads.html"><a href="1-6-butterfly-spreads.html"><i class="fa fa-check"></i><b>1.6</b> Butterfly spreads</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-a-modicum-of-option-pricing-theory.html"><a href="2-a-modicum-of-option-pricing-theory.html"><i class="fa fa-check"></i><b>2</b> A modicum of option pricing theory</a><ul>
<li class="chapter" data-level="2.1" data-path="2-1-the-delta-of-an-option.html"><a href="2-1-the-delta-of-an-option.html"><i class="fa fa-check"></i><b>2.1</b> The <span class="math inline">\(\Delta\)</span> of an option</a></li>
<li><a href="box-1-delta-and-dynamic-replication.html#box-1.-delta-and-dynamic-replication">Box 1. <span class="math inline">\(\Delta\)</span> and dynamic replication</a></li>
<li class="chapter" data-level="2.2" data-path="2-2-pricing-foreign-currency-options.html"><a href="2-2-pricing-foreign-currency-options.html"><i class="fa fa-check"></i><b>2.2</b> Pricing foreign currency options</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-2-pricing-foreign-currency-options.html"><a href="2-2-pricing-foreign-currency-options.html#replicating-the-cost-of-a-call-option"><i class="fa fa-check"></i><b>2.2.1</b> Replicating the cost of a call option</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-2-pricing-foreign-currency-options.html"><a href="2-2-pricing-foreign-currency-options.html#the-garman-kohlhagen-equation"><i class="fa fa-check"></i><b>2.2.2</b> The Garman-Kohlhagen equation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-3-pricing-conventions.html"><a href="2-3-pricing-conventions.html"><i class="fa fa-check"></i><b>2.3</b> Pricing conventions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="2-3-pricing-conventions.html"><a href="2-3-pricing-conventions.html#delta-implied-strikes"><i class="fa fa-check"></i><b>2.3.1</b> <span class="math inline">\(\Delta\)</span>-implied strikes</a></li>
<li class="chapter" data-level="2.3.2" data-path="2-3-pricing-conventions.html"><a href="2-3-pricing-conventions.html#implied-volatility"><i class="fa fa-check"></i><b>2.3.2</b> Implied volatility</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-the-volatility-smile.html"><a href="3-the-volatility-smile.html"><i class="fa fa-check"></i><b>3</b> The volatility smile</a><ul>
<li class="chapter" data-level="" data-path="box-2-put-call-parity.html"><a href="box-2-put-call-parity.html"><i class="fa fa-check"></i>Box 2. Put-call parity</a></li>
<li class="chapter" data-level="3.1" data-path="3-1-level.html"><a href="3-1-level.html"><i class="fa fa-check"></i><b>3.1</b> Level</a></li>
<li class="chapter" data-level="3.2" data-path="3-2-slope.html"><a href="3-2-slope.html"><i class="fa fa-check"></i><b>3.2</b> Slope</a></li>
<li class="chapter" data-level="3.3" data-path="3-3-curvature.html"><a href="3-3-curvature.html"><i class="fa fa-check"></i><b>3.3</b> Curvature</a></li>
<li class="chapter" data-level="3.4" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html"><i class="fa fa-check"></i><b>3.4</b> Constructing the volatility smile</a><ul>
<li class="chapter" data-level="3.4.1" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html#selecting-the-data-for-specific-dates"><i class="fa fa-check"></i><b>3.4.1</b> Selecting the data for specific dates</a></li>
<li class="chapter" data-level="3.4.2" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html#calculation-of-implied-volatilities-vols"><i class="fa fa-check"></i><b>3.4.2</b> Calculation of implied volatilities (vols)</a></li>
<li class="chapter" data-level="3.4.3" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html#delta_atm-depends-on-the-atm-conventions-used"><i class="fa fa-check"></i><b>3.4.3</b> <span class="math inline">\(\Delta_{ATM}\)</span> depends on the ATM conventions used</a></li>
<li class="chapter" data-level="3.4.4" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html#a-rough-first-pass-on-the-volatility-smile"><i class="fa fa-check"></i><b>3.4.4</b> A rough first pass on the volatility smile</a></li>
<li class="chapter" data-level="3.4.5" data-path="3-4-constructing-the-volatility-smile.html"><a href="3-4-constructing-the-volatility-smile.html#a-more-refined-approximation-of-the-volatility-smile"><i class="fa fa-check"></i><b>3.4.5</b> A more refined approximation of the volatility smile</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-the-volatility-smile-1.html"><a href="4-the-volatility-smile-1.html"><i class="fa fa-check"></i><b>4</b> The volatility smile</a><ul>
<li class="chapter" data-level="" data-path="4-the-volatility-smile-1.html"><a href="4-the-volatility-smile-1.html#box-2.-put-call-parity-1"><i class="fa fa-check"></i>Box 2. Put-call parity</a></li>
<li class="chapter" data-level="4.1" data-path="4-1-level-1.html"><a href="4-1-level-1.html"><i class="fa fa-check"></i><b>4.1</b> Level</a></li>
<li class="chapter" data-level="4.2" data-path="4-2-slope-1.html"><a href="4-2-slope-1.html"><i class="fa fa-check"></i><b>4.2</b> Slope</a></li>
<li class="chapter" data-level="4.3" data-path="4-3-curvature-1.html"><a href="4-3-curvature-1.html"><i class="fa fa-check"></i><b>4.3</b> Curvature</a></li>
<li class="chapter" data-level="4.4" data-path="4-4-constructing-the-volatility-smile-1.html"><a href="4-4-constructing-the-volatility-smile-1.html"><i class="fa fa-check"></i><b>4.4</b> Constructing the volatility smile</a><ul>
<li class="chapter" data-level="4.4.1" data-path="4-4-constructing-the-volatility-smile-1.html"><a href="4-4-constructing-the-volatility-smile-1.html#selecting-the-data-for-specific-dates-1"><i class="fa fa-check"></i><b>4.4.1</b> Selecting the data for specific dates</a></li>
<li class="chapter" data-level="4.4.2" data-path="4-4-constructing-the-volatility-smile-1.html"><a href="4-4-constructing-the-volatility-smile-1.html#calculation-of-implied-volatilities-vols-1"><i class="fa fa-check"></i><b>4.4.2</b> Calculation of implied volatilities (vols)</a></li>
<li class="chapter" data-level="4.4.3" data-path="4-4-constructing-the-volatility-smile-1.html"><a href="4-4-constructing-the-volatility-smile-1.html#delta_atm-depends-on-the-atm-conventions-used-1"><i class="fa fa-check"></i><b>4.4.3</b> <span class="math inline">\(\Delta_{ATM}\)</span> depends on the ATM conventions used</a></li>
<li class="chapter" data-level="4.4.4" data-path="4-4-constructing-the-volatility-smile-1.html"><a href="4-4-constructing-the-volatility-smile-1.html#a-rough-first-pass-on-the-volatility-smile-1"><i class="fa fa-check"></i><b>4.4.4</b> A rough first pass on the volatility smile</a></li>
<li class="chapter" data-level="4.4.5" data-path="4-4-constructing-the-volatility-smile-1.html"><a href="4-4-constructing-the-volatility-smile-1.html#a-more-refined-approximation-of-the-volatility-smile-1"><i class="fa fa-check"></i><b>4.4.5</b> A more refined approximation of the volatility smile</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-extracting-the-risk-neutral-density.html"><a href="5-extracting-the-risk-neutral-density.html"><i class="fa fa-check"></i><b>5</b> Extracting the risk-neutral density</a><ul>
<li class="chapter" data-level="5.1" data-path="5-1-extraction-techniques.html"><a href="5-1-extraction-techniques.html"><i class="fa fa-check"></i><b>5.1</b> Extraction techniques</a></li>
<li class="chapter" data-level="5.2" data-path="5-2-infering-premia-and-strike-prices-from-the-volatility-smile.html"><a href="5-2-infering-premia-and-strike-prices-from-the-volatility-smile.html"><i class="fa fa-check"></i><b>5.2</b> Infering premia and strike prices from the volatility smile</a></li>
<li class="chapter" data-level="5.3" data-path="5-3-the-call-option-case.html"><a href="5-3-the-call-option-case.html"><i class="fa fa-check"></i><b>5.3</b> The call option case</a></li>
<li class="chapter" data-level="5.4" data-path="5-4-the-put-option-case.html"><a href="5-4-the-put-option-case.html"><i class="fa fa-check"></i><b>5.4</b> The put option case</a></li>
<li class="chapter" data-level="5.5" data-path="5-5-practical-implementation.html"><a href="5-5-practical-implementation.html"><i class="fa fa-check"></i><b>5.5</b> Practical Implementation</a></li>
<li class="chapter" data-level="5.6" data-path="5-6-generalized-beta-distribution.html"><a href="5-6-generalized-beta-distribution.html"><i class="fa fa-check"></i><b>5.6</b> Generalized beta distribution</a></li>
<li class="chapter" data-level="5.7" data-path="5-7-edgeworth-expansion.html"><a href="5-7-edgeworth-expansion.html"><i class="fa fa-check"></i><b>5.7</b> Edgeworth expansion</a></li>
<li class="chapter" data-level="5.8" data-path="5-8-shimko-method.html"><a href="5-8-shimko-method.html"><i class="fa fa-check"></i><b>5.8</b> Shimko method</a></li>
<li class="chapter" data-level="5.9" data-path="5-9-a-graphical-comparison-of-different-methods.html"><a href="5-9-a-graphical-comparison-of-different-methods.html"><i class="fa fa-check"></i><b>5.9</b> A graphical comparison of different methods</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-final-words.html"><a href="6-final-words.html"><i class="fa fa-check"></i><b>6</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Adventures in Macrofinancial Analysis:</br> Extracting information from FX Options</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-volatility-smile-1" class="section level1">
<h1><span class="header-section-number">4</span> The volatility smile</h1>
<p>Quoting implied vols for a selected range of <span class="math inline">\(\Delta\)</span>s and maturities has some advantages. First, it singles specific option contracts. For instance, it is possible to monitor the price of the constant 3-month maturity 25<span class="math inline">\(\Delta\)</span> call opion.</p>
<p>First, it focus the analysis in a specific type of contract.</p>
<p>There are some advantages to using the market convention. First, a constant 3-month maturity 25<span class="math inline">\(\Delta\)</span> call option identifies only one specific type of contract. This standardization allows us to monitor the price of the contract without bothering</p>
<p>without bothering to know what regardless of what the value of the other option pricing inputs, i.e. spot exchange rate and interest rates, are</p>
<p>The corresponding time series allow us to monitor how the price of the contract changes without bothering to know what the values of the underlying variables, i.e. spot exchange rate and interest rates are., or to reverse engineering the strike values.</p>
<p>Second, the fact that prices are quoted in volatility units facilitates comparing prices at different points in time. Were the premium quoted in money terms, i.e. US dollar per British pound, it would be difficult to state whether the option has become cheaper or more expensive since the premium reflect the effect of several variables besides the implied volatility parameter. But the latter is the one that captures the cost of manufacturing the option, including demand and supply effects.</p>
<p>The main advantage of the market convention, however, is that it identifies the three main unobserved drivers of currency option prices: level, slope, and curvature.[^6] We analyze them using the <span class="math inline">\(ATM\)</span> vol, and the implied volatilities of the 25<span class="math inline">\(\Delta\)</span> call, and the 75<span class="math inline">\(\Delta\)</span> call. Dealers only quote the value of the first instrument. But some simple algebra and an application of the put-call parity yields the values of the last two instruments using the price quotes for the risk reversals and butterfly spreads:</p>
<p><span class="math display">\[
\begin{aligned}
  \sigma_{25\Delta C} &amp;= \sigma_{ATM} + BF_{25\Delta} + \frac{1}{2} RR_{25\Delta}\\
  \sigma_{25\Delta P} &amp;= \sigma_{ATM} + BF_{25\Delta} - \frac{1}{2} RR_{25\Delta}\\
  \sigma_{75\Delta C} &amp;= \sigma_{25\Delta P}
\end{aligned}
\]</span> </br></p>
<div id="box-2.-put-call-parity-1" class="section level3 unnumbered">
<h3>Box 2. Put-call parity</h3>
<div style="background-color:#f7f7f7; width:auto; height:auto; padding-top:0.5px; 
padding-bottom:5px; padding-left:20px; padding-right:20px; font-size:90%; border:1px solid black">
<p>The combination of a short put position (sell the put) and a long call position (buy the call) mimics the payoff of a long forward position (buy the currency forward) with strike price equal to the forward rate, <span class="math inline">\(F\)</span>, at maturity:</p>
<br />

<div class="figure"><span id="fig:unnamed-chunk-37"></span>
<img src="images/figPutCallParity01.png" alt="Put-call parity" width="60%" />
<p class="caption">
Figure 4.1: Put-call parity
</p>
</div>
<p><br />
The following equality must hold:</p>
<p><span class="math display">\[
C(T) - P(T) = F(T)
\]</span></p>
<p>where <span class="math inline">\(C(T)\)</span>, <span class="math inline">\(P(T)\)</span>, and <span class="math inline">\(F(T)\)</span> are prices of the call, the put, and the forward at maturity, <span class="math inline">\(T\)</span>. If the contracts are entered at time 0, the present value of the option position, <span class="math inline">\(C(0) - P(0)\)</span> should still be the same as the present value of the forward position, <span class="math inline">\(F \exp(-R_d \times T)\)</span>, where <span class="math inline">\(R_d\)</span> is the domestic discount rate. But the value of <span class="math inline">\(F\)</span> is determined by the covered interest parity conditions and equal to</p>
<p><br />
<span class="math display">\[
F= S(0) \exp((R_d-R_f) \times T ),
\]</span><br />
where <span class="math inline">\(R_f\)</span> is the foreign discount rate. The put-call parity follows:</p>
<p><br />
<span class="math display">\[
C(0) - P(0) = S(0) \exp(-R_f \times T)
\]</span></p>
<p><br />
Taking derivatives with respect to <span class="math inline">\(S(0)\)</span> yields the following relationship between the <span class="math inline">\(\Delta\)</span>s of a call and a put:</p>
<br />

<center>
<div style="border:1px solid black; width:300px">
<p><span class="math display">\[
\Delta_C - \Delta_P = \exp(-R_f \times T)
\]</span></p>
</div>
</center>
<p><br />
When the foreign interest rate is small and/or the time to maturity is short, the put-call parity is approximately   <span class="math display">\[
\Delta_C - \Delta_P \approx 1
\]</span><br />
</p>
</div>
<p><br />
With these three points, it is possible to fit a second-degree polynomial, or a non-parametric spline function associating an implied volatility to any <span class="math inline">\(\Delta\)</span>. This is the volatility smile in the <span class="math inline">\(\Delta\)</span>- volatility space, and we can use it to price options with strikes other than the <span class="math inline">\(ATM\)</span> and those implied by the 25<span class="math inline">\(\Delta\)</span> and 75<span class="math inline">\(\Delta\)</span>.</p>
</div> 
</div>
            </section>

          </div>
        </div>
      </div>
<a href="3-4-constructing-the-volatility-smile.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="4-1-level-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
